(function(t){function e(e){for(var r,c,o=e[0],s=e[1],l=e[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={app:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/Vis-Exhibition/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1b63":function(t,e,n){"use strict";n("b0f5")},"2e88":function(t,e,n){"use strict";n("774c")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7dd6");var r=n("7a23");function i(t,e){var n=Object(r["L"])("exhibition-title"),i=Object(r["L"])("scroller");return Object(r["E"])(),Object(r["i"])(r["b"],null,[Object(r["n"])(n),Object(r["n"])(i)],64)}var a=Object(r["l"])('<div class="exhibitionTitle"><div class="exhibition-title-sub"><h1><span class="background">可视化线上科普展</span></h1><h3><span class="background"><a href="http://fduvis.net" target="_blank">复旦大学可视分析与智能决策实验室（FDU-VIS）</a></span></h3></div><h3>温馨提示：网页端打开该界面会有更好的观赏体验哦~</h3><div class="start-scroll"><h2><span class="background" style="font-family:&#39;Dancing Script&#39;;">Scroll</span></h2></div><div class="scroll-icon"><span class="background"><i class="fas fa-mouse" aria-hidden="true" style="font-size:30px;"></i></span></div></div><div class="back-graph"><img class="back-top" src="image/backgroundT.gif"><img class="back-bottom" src="image/backgroundB.gif"></div>',2);function c(t,e,n,r,i,c){return a}var o={name:"exhibitionTitle"},s=(n("c876"),n("d959")),l=n.n(s);const u=l()(o,[["render",c]]);var d=u,f={class:"scroller"},p=Object(r["n"])("div",{class:"scroller-right"},null,-1),h=Object(r["n"])("div",{class:"scroller-left"},null,-1);function b(t,e,n,i,a,c){return Object(r["E"])(),Object(r["i"])("div",f,[p,h])}var v=n("1da1"),g=(n("96cf"),n("4de4"),n("a630"),n("3ca3"),n("fb6a"),n("5abe"),n("d11d")),y=n.n(g),x=n("5698");n("a15b"),n("d81d"),n("99af");function m(t){return"M"+t.map((function(t){return"".concat(t[0],",").concat(t[1])})).join("L")+"Z"}function w(t,e,n,r,i){for(var a=[],c=0,o=0,s=t,l=e,u=i/4,d=0;d<4;d++){0===d?(c=n/u,o=0):1===d?(c=0,o=r/u):2===d?(c=-1*n/u,o=0):(c=0,o=-1*r/u);for(var f=0;f<u;f++)a.push([s,l]),s+=c,l+=o}return a}function j(t,e,n,r){for(var i=[],a=-3/8*r,c=5/8*r,o=a;o<c;o++){var s=o/r*2*Math.PI,l=t+n*Math.cos(s),u=e+n*Math.sin(s);i.push([l,u])}return i}var O=n("e671"),k=n.n(O),_={name:"scroller",mounted:function(){return Object(v["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i,a,c,o,s,l,u,d,f,p,h,b,v,g,O,_,I,M,S,P,T;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return T=function(){P(),I(),_.setup({step:".scroller .scroller-left .step",offset:.8,debug:!1}).onStepEnter(M).onStepExit(S),window.addEventListener("resize",I)},P=function(){x["d"](".sticky").each((function(){k.a.add(this)}))},S=function(t){console.log(t),0==t.index&&p()},M=function(t){var n=a[t.index].sectionId;O.classed("is-active",(function(e,n){return n===t.index})),0==t.index?h():x["d"]("path").filter((function(t){return t.index!=n})).transition().duration(r).attr("id",(function(t){return"path_circle_"+t.index})).attr("opacity",.8).attr("d",(function(t){return m(j(t.rx,t.ry,t.r,i))})),x["c"]("#path_circle_"+n).transition().duration(r).attr("id","path_rect").attr("d",m(w(.095*e,0,.005*e,document.body.clientHeight,i)))},I=function(){var t,r,i,a;e>600?(t=Math.floor(.9*n),i=(n-t)/2,r=.5*e,a=.2*e):(t=n,i=.1*n,r=.7*e,a=.05*e),O.style("height",t+"px").style("width",r+"px").style("top",i+"px").style("margin-left",a+"px"),g.style("height",n+"px").style("top","0px"),_.resize()},h=function(){x["d"](".section-catalog").transition().duration(r/2).style("color",(function(t){return l=x["a"](s(t.sectionId+1)),l.opacity=0,l})),d.selectAll("path").transition().duration(r).attr("id",(function(t){return"path_circle_"+t.index})).attr("d",(function(t){return m(j(t.rx,t.ry,t.r,i))}))},p=function(){d.selectAll("path").data(f).enter().append("path").attr("id",(function(t){return"path_catlog_"+t.index})).attr("d",(function(t){return m(w(.7*e,(.6+.05*t.index)*n,.01*e,.04*n,i))})).attr("fill",(function(t,e){return s(e+1)})).attr("opacity",.8).on("click",(function(){var t=this.getAttributeNode("id").value.slice(12);document.getElementById("section-"+t).scrollIntoView()})),x["c"](".scroller-right").selectAll("div").data(c).enter().append("div").attr("class","section-catalog").attr("id",(function(t){return"catalog_"+t.sectionId})).style("position","absolute").style("left","72.5%").style("top",(function(t){return(.57+.05*t.sectionId)*n+"px"})).style("color",(function(t){return s(t.sectionId+1)})).style("font-size","larger").append("p").text((function(t){return t.sectionName}))},s=function(t){var e=["#e15759","#4e79a7"];return e[t-1]},e=window.innerWidth,n=window.innerHeight,r=2e3,i=60,t.next=14,x["b"]("./dataset/visweb.json").then((function(t){a=t}));case 14:return t.next=16,x["b"]("./dataset/section.json").then((function(t){c=t}));case 16:o=c.length,u=x["c"](".scroller-left").selectAll("div").data(a).enter().append("div").attr("class","step").attr("id",(function(t){return"section-"+t.sectionId})).append("div").attr("class","step-background").style("background-color",(function(t){return l=x["a"](s(t.sectionId+1)),l.opacity=.7,l})),u.filter((function(t){return t.title})).append("p").attr("class","exampleTitle").text((function(t){return t.title})),u.filter((function(t){return t.subtitle})).append("p").attr("class","subTitle").text((function(t){return t.subtitle})),u.filter((function(t){return t.author})).append("p").attr("class","author").text((function(t){return t.author})),u.filter((function(t){return t.image})).append("div").attr("class","image_wrapper").append("img").attr("class","image").attr("src",(function(t){return t.image})),u.filter((function(t){return t.video&&t.youtube})).append("div").attr("class","video_wrapper").append("iframe").attr("class","video").attr("src",(function(t){return t.video})).attr("frameborder",0).attr("allow","fullscreen; accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),u.filter((function(t){return t.des})).append("p").text((function(t){return t.des})),u.filter((function(t){return t.url})).append("h4").attr("class","view-link").html((function(t){return"<a target='_blank' href="+t.url+"> View → </a>"})),d=x["c"](".scroller-right").append("svg").attr("width","100%").attr("height","100%"),f=Array.from({length:o},(function(t,r){return{rx:(.05+.02*Math.random())*e,ry:.06*(r+1)*n,r:.025*(1+Math.random())*n,index:r}})),p(),b=x["c"](".scroller"),v=b.select(".scroller-left"),g=b.select(".scroller-right"),O=v.selectAll(".step"),_=y()(),T();case 34:case"end":return t.stop()}}),t)})))()}};n("1b63");const I=l()(_,[["render",b]]);var M=I,S={components:{exhibitionTitle:d,scroller:M}};n("2e88");const P=l()(S,[["render",i]]);var T=P,A=n("3fd4");Object(r["h"])(T).use(A["a"]).mount("#app")},"774c":function(t,e,n){},b0f5:function(t,e,n){},c876:function(t,e,n){"use strict";n("f378")},f378:function(t,e,n){}});
//# sourceMappingURL=app.c186cbf5.js.map